{"version":3,"sources":["webpack:///./src/views/layout/LayoutHeader.vue?a795","webpack:///./src/views/layout/LayoutHeader.vue?6f32","webpack:///./node_modules/ant-design-vue/es/avatar/Avatar.js","webpack:///./node_modules/ant-design-vue/es/avatar/index.js","webpack:///src/views/layout/LayoutHeader.vue","webpack:///./src/views/layout/LayoutHeader.vue?c49c","webpack:///./src/views/layout/LayoutHeader.vue?f01b"],"names":["_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","username","staticStyle","on","$event","goto","_s","logout","staticRenderFns","name","props","prefixCls","type","String","undefined","shape","validator","val","includes","size","src","srcSet","icon","alt","loadError","Function","inject","configProvider","data","isImgExist","scale","watch","_this","$nextTick","$forceUpdate","mounted","_this2","prevChildren","$slots","prevState","$data","setScale","updated","_this3","preChildren","methods","childrenNode","$refs","avatarChildren","childrenWidth","offsetWidth","avatarWidth","$el","getBoundingClientRect","width","handleImgLoadError","$props","errorFlag","render","_sizeCls","_extends3","h","arguments","_$props","customizePrefixCls","getPrefixCls","_$data","sizeCls","classString","sizeStyle","height","lineHeight","fontSize","children","transformString","childrenStyle","msTransform","WebkitTransform","transform","sizeChildrenStyle","ref","style","$listeners","Avatar","install","Vue","use","component","components","AAvatar","$router","push","console","log","$store","commit","computed","state"],"mappings":"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","file":"js/chunk-07d87000.cdc30cb0.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutHeader.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutHeader.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"layout-header\"}},[_c('span',{staticClass:\"title\"},[_vm._v(\"家居监控系统\")]),_c('div',{staticClass:\"profile\"},[(_vm.username == null)?_c('div',[_c('span',{staticStyle:{\"margin-left\":\"20px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.goto('login')}}},[_vm._v(\"登入\")])]):_c('div',[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.goto('setting')}}},[_c('a-avatar',{staticStyle:{\"background\":\"white\",\"color\":\"gray\",\"border\":\"1.5px solid gray\"},attrs:{\"size\":40,\"icon\":\"user\"}}),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm.username))])],1),_c('span',{staticStyle:{\"margin-left\":\"10px\",\"font-size\":\"20px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.logout}},[_vm._v(\" | 登出 \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport { ConfigConsumerProps } from '../config-provider';\nimport Icon from '../icon';\n\nexport default {\n  name: 'AAvatar',\n  props: {\n    prefixCls: {\n      type: String,\n      'default': undefined\n    },\n    shape: {\n      validator: function validator(val) {\n        return ['circle', 'square'].includes(val);\n      },\n      'default': 'circle'\n    },\n    size: {\n      validator: function validator(val) {\n        return typeof val === 'number' || ['small', 'large', 'default'].includes(val);\n      },\n      'default': 'default'\n    },\n    src: String,\n    /** Srcset of image avatar */\n    srcSet: String,\n    icon: String,\n    alt: String,\n    loadError: Function\n  },\n  inject: {\n    configProvider: { 'default': function _default() {\n        return ConfigConsumerProps;\n      } }\n  },\n  data: function data() {\n    return {\n      isImgExist: true,\n      scale: 1\n    };\n  },\n\n  watch: {\n    src: function src() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.isImgExist = true;\n        _this.scale = 1;\n        // force uodate for position\n        _this.$forceUpdate();\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.prevChildren = this.$slots['default'];\n    this.prevState = _extends({}, this.$data);\n    this.$nextTick(function () {\n      _this2.setScale();\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    if (this.preChildren !== this.$slots['default'] || this.prevState.scale !== this.$data.scale && this.$data.scale === 1 || this.prevState.isImgExist !== this.$data.isImgExist) {\n      this.$nextTick(function () {\n        _this3.setScale();\n      });\n    }\n    this.preChildren = this.$slots['default'];\n    this.prevState = _extends({}, this.$data);\n  },\n\n  methods: {\n    setScale: function setScale() {\n      var childrenNode = this.$refs.avatarChildren;\n      if (childrenNode) {\n        var childrenWidth = childrenNode.offsetWidth;\n        var avatarWidth = this.$el.getBoundingClientRect().width;\n        if (avatarWidth - 8 < childrenWidth) {\n          this.scale = (avatarWidth - 8) / childrenWidth;\n        } else {\n          this.scale = 1;\n        }\n        this.$forceUpdate();\n      }\n    },\n    handleImgLoadError: function handleImgLoadError() {\n      var loadError = this.$props.loadError;\n\n      var errorFlag = loadError ? loadError() : undefined;\n      if (errorFlag !== false) {\n        this.isImgExist = false;\n      }\n    }\n  },\n  render: function render() {\n    var _sizeCls, _extends3;\n\n    var h = arguments[0];\n    var _$props = this.$props,\n        customizePrefixCls = _$props.prefixCls,\n        shape = _$props.shape,\n        size = _$props.size,\n        src = _$props.src,\n        icon = _$props.icon,\n        alt = _$props.alt,\n        srcSet = _$props.srcSet;\n\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('avatar', customizePrefixCls);\n\n    var _$data = this.$data,\n        isImgExist = _$data.isImgExist,\n        scale = _$data.scale;\n\n\n    var sizeCls = (_sizeCls = {}, _defineProperty(_sizeCls, prefixCls + '-lg', size === 'large'), _defineProperty(_sizeCls, prefixCls + '-sm', size === 'small'), _sizeCls);\n\n    var classString = _extends(_defineProperty({}, prefixCls, true), sizeCls, (_extends3 = {}, _defineProperty(_extends3, prefixCls + '-' + shape, shape), _defineProperty(_extends3, prefixCls + '-image', src && isImgExist), _defineProperty(_extends3, prefixCls + '-icon', icon), _extends3));\n\n    var sizeStyle = typeof size === 'number' ? {\n      width: size + 'px',\n      height: size + 'px',\n      lineHeight: size + 'px',\n      fontSize: icon ? size / 2 + 'px' : '18px'\n    } : {};\n\n    var children = this.$slots['default'];\n    if (src && isImgExist) {\n      children = h('img', {\n        attrs: { src: src, srcSet: srcSet, alt: alt },\n        on: {\n          'error': this.handleImgLoadError\n        }\n      });\n    } else if (icon) {\n      children = h(Icon, {\n        attrs: { type: icon }\n      });\n    } else {\n      var childrenNode = this.$refs.avatarChildren;\n      if (childrenNode || scale !== 1 && childrenNode) {\n        var transformString = 'scale(' + scale + ') translateX(-50%)';\n        var childrenStyle = {\n          msTransform: transformString,\n          WebkitTransform: transformString,\n          transform: transformString\n        };\n        var sizeChildrenStyle = typeof size === 'number' ? {\n          lineHeight: size + 'px'\n        } : {};\n        children = h(\n          'span',\n          {\n            'class': prefixCls + '-string',\n            ref: 'avatarChildren',\n            style: _extends({}, sizeChildrenStyle, childrenStyle)\n          },\n          [children]\n        );\n      } else {\n        children = h(\n          'span',\n          { 'class': prefixCls + '-string', ref: 'avatarChildren' },\n          [children]\n        );\n      }\n    }\n    return h(\n      'span',\n      { on: this.$listeners, 'class': classString, style: sizeStyle },\n      [children]\n    );\n  }\n};","import Avatar from './Avatar';\nimport Base from '../base';\n\n/* istanbul ignore next */\nAvatar.install = function (Vue) {\n  Vue.use(Base);\n  Vue.component(Avatar.name, Avatar);\n};\n\nexport default Avatar;","<template>\n  <div id=\"layout-header\">\n    <span class=\"title\">家居监控系统</span>\n    <div class=\"profile\">\n      <div v-if=\"username == null\">\n        <span style=\"margin-left: 20px; cursor: pointer;\" \n          @click=\"goto('login')\"\n        >登入</span>\n      </div>\n      <div v-else>\n        <span style=\"cursor: pointer;\" @click=\"goto('setting')\">\n          <a-avatar :size=\"40\" style=\"background: white; color: gray; border: 1.5px solid gray;\" icon=\"user\"></a-avatar>\n          <span style=\"margin-left: 10px;\">{{username}}</span>\n        </span>\n        <span style=\"margin-left: 10px; font-size: 20px; cursor: pointer;\" \n          @click=\"logout\"\n        >\n          | 登出\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {Avatar} from 'ant-design-vue'\n\nexport default {\n  components: {\n    AAvatar: Avatar\n  },\n  methods: {\n    goto(name) {\n      this.$router.push({name})\n    },\n    logout() {\n      console.log('logout')\n      this.$store.commit('updateUsername', null)\n    }\n  },\n  computed: {\n    username: function() {\n      return this.$store.state.username\n    }\n  }\n}\n</script>\n\n<style>\n#layout-header {\n  height: 100%;\n  width: 100%;\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 30px; \n}\n\n#layout-header .title {\n  font-size: 25px;\n}\n\n#layout-header .profile {\n  margin-right: 40px;\n  font-size: 25px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayoutHeader.vue?vue&type=template&id=37d4caba&\"\nimport script from \"./LayoutHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./LayoutHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LayoutHeader.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}